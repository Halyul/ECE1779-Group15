import{b as je,g as _e,f as Fe,u as qe,r as u,a as l,j as e,N as oe,O as Be,F as Ce,h as He,i as Ve,k as f,l as We,m as Ue,n as Ge,o as C,c as Je,p as Ke}from"./react.cde664bd.js";import{u as Ze,a as Xe,c as Qe,T as Ye,C as et,B as x,A as tt,b as le,I as Se,d as S,e as g,L as at,S as st,f as Re,g as Oe,h as it,i as Ee,j as ee,k as te,l as D,m as Me,n as nt,r as ce,o as rt,p as ot,q as lt,D as ct,s as ut,t as dt,v as ht,w as pt,x as mt,y as ue,z as ft,G as m,E as p,M as w,F as gt,H as vt}from"./ui.047f30ae.js";import{f as xt,t as Te,l as yt,r as bt,v as _t,d as Ct,P as St,i as Rt,c as Ot,a as Et,b as Mt,e as Tt,g as wt,h as kt,j as Dt,k as It,m as $t,n as Pt,o as At,p as Nt,q as zt,s as Lt,u as jt,w as Ft,x as qt,y as Bt,z as Ht,A as Vt,B as Wt,C as Ut,D as Gt,E as Jt,F as we,G as Kt,H as de,I as Zt,M as Xt,J as Qt,K as Yt,L as ea,N as ta,O as aa,Q as sa,R as ia,S as na,T as ra,U as oa,V as la,W as ca,X as ua,Y as da,Z as ha,_ as pa,$ as ma,a0 as fa,a1 as ga,a2 as va,a3 as xa,a4 as ya,a5 as ba,a6 as _a,a7 as Ca,a8 as Sa,a9 as Ra,aa as Oa,ab as Ea,ac as Ma}from"./echarts.411a019a.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();var X={},he=je.exports;X.createRoot=he.createRoot,X.hydrateRoot=he.hydrateRoot;var ae={},R={exports:{}};(function(t){function i(a){return a&&a.__esModule?a:{default:a}}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(R);var J={};const Ta=_e(Ze);var pe;function I(){return pe||(pe=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=Ta}(J)),J}const $=_e(Fe);var wa=R.exports;Object.defineProperty(ae,"__esModule",{value:!0});var ke=ae.default=void 0,ka=wa(I()),Da=$,Ia=(0,ka.default)((0,Da.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");ke=ae.default=Ia;const $a=240;function Pa(t){const i=qe(),[a,s]=u.exports.useState(!1),n=Xe("(prefers-color-scheme: dark)"),r=u.exports.useMemo(()=>Qe({palette:{mode:n?"dark":"light"}}),[n]),o=()=>{s(!a)};return l(Ye,{theme:r,children:[e(et,{}),l(x,{sx:{display:"flex",minHeight:"inherit"},children:[l(tt,{component:"nav",children:[l(le,{children:[e(Se,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:o,sx:{mr:2,display:{md:"none"}},children:e(ke,{})}),e(S,{variant:"h6",component:"div",sx:{flexGrow:1},children:t.title}),e(x,{sx:{display:{xs:"none",md:"block"}},children:t.destinations.map(h=>e(g,{sx:{color:"#fff"},children:e(oe,{to:h.path,children:h.name})},h.name))})]}),e(x,{sx:{width:"100%"},hidden:i.state!=="loading",children:e(at,{})})]}),e(x,{component:"nav",children:e(st,{container:document.body,variant:"temporary",open:a,onClose:o,onOpen:o,ModalProps:{keepMounted:!0},sx:{display:{md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:$a}},children:e(x,{onClick:o,sx:{textAlign:"center"},children:e(Re,{children:t.destinations.map(h=>e(oe,{to:h.path,children:e(Oe,{disablePadding:!0,children:e(it,{sx:{textAlign:"center"},children:e(Ee,{primary:h.name})})})},h.name))})})})}),l(x,{component:"main",sx:{height:"inherit",width:"90vw",maxWidth:"768px !important",margin:"0 auto"},children:[e(le,{sx:{marginBottom:"16px"}}),e(Be,{})]})]})]})}var se={},Aa=R.exports;Object.defineProperty(se,"__esModule",{value:!0});var De=se.default=void 0,Na=Aa(I()),za=$,La=(0,Na.default)((0,za.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");De=se.default=La;function Q(t){return l(ee,{sx:{marginBottom:"1rem"},children:[e(te,{title:t.title}),e(D,{children:t.body}),t.actions&&e(Me,{children:t.actions.map(i=>e(g,{size:"small",onClick:i.onClick,children:i.content},i.label))})]})}function ja(t){return l(ee,{sx:{marginBottom:"1rem"},children:[e(Ce,{method:"POST",id:"image-form",children:e(te,{action:e(Se,{"aria-label":"refresh",type:"submit",onClick:t.handleOnClick,children:e(De,{})}),title:t.title,subheader:t.subtitle})}),e(D,{children:t.body})]})}function me(t){return l(ee,{sx:{marginBottom:"1rem"},children:[e(te,{title:t.title,subheader:t.subtitle}),l(Ce,{id:t.id,method:t.method,onSubmit:t.onSubmit,children:[e(D,{children:t.content}),e(Me,{disableSpacing:!0,children:t.actions})]})]})}function fe(){const t=He(),i=Ve();return console.error(t),e(nt,{sx:{maxWidth:"768px !important",width:"90vw",height:"inherit",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"stretch"},children:e(Q,{title:`${t.status} ${t.data?t.statusText:""}`,body:e(S,{variant:"body1",children:t.data?t.data:t.statusText}),actions:[{label:"Go back",content:"Go back",onClick:()=>{i(-1)}}]})})}const Fa=[{color:ce[500],name:"Teng Shu",responsibility:"Backend Developer"},{color:rt[500],name:"Haoyu Xu",responsibility:"Frontend Developer"},{color:ce[500],name:"Xiaoyu Zhai",responsibility:"Backend Developer"}];function qa(){return l(f,{children:[e(Q,{title:"Welcome",body:e(S,{variant:"body1",children:"Please select a destination from the menu."})}),e(Q,{title:"Members",body:e(Re,{sx:{width:"100%",bgcolor:"background.paper"},children:Fa.map(t=>l(x,{children:[l(Oe,{alignItems:"flex-start",children:[e(ot,{children:e(lt,{sx:{bgcolor:t.color},children:t.name.split(" ").map(i=>i[0]).join("")})}),e(Ee,{primary:t.name,secondary:e(S,{sx:{display:"inline"},component:"div",variant:"body2",color:"text.primary",children:t.responsibility})})]}),e(ct,{variant:"inset",component:"li"})]},t.name))})})]})}const Ba={name:"Home",path:""};function Ha(t){const[i,a]=u.exports.useState(!1),[s,n]=u.exports.useState(!1);u.exports.useEffect(()=>{t.submissionStatus&&(t.submitting.setOpen(!1),t.submissionStatus.status!==200?n(!0):a(!0))},[t.submissionStatus]);const r=()=>{n(!1)},o=()=>{a(!1)};return l(f,{children:[l(ut,{open:s,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[e(dt,{id:"alert-dialog-title",children:t.failed.title}),e(ht,{children:e(pt,{id:"alert-dialog-description",children:t.failed.text})}),e(mt,{children:e(g,{onClick:r,children:"Close"})})]}),e(ue,{open:t.submitting.open,message:t.submitting.text}),e(ue,{open:i,message:t.submittedText,autoHideDuration:6e3,onClose:o})]})}async function Va(t,i){return await P(`/api/manager/poolsize/${t}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}),console.log(`Pool updated in ${t}: ${JSON.stringify(i)}`),{status:200,statusText:"OK"}}async function Wa(){return await P("/api/manager/aggregate_stats"),{status:200,statusText:"OK"}}async function Ua(t){return await P(`/api/manager/${t}/clear`,{method:"DELETE"}),console.log(`Cleared: ${t}`),{status:200,statusText:"OK"}}async function Ga(t){return await P("/api/manager/cache/config",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),console.log(`Node updated: ${JSON.stringify(t)}`),{status:200,statusText:"OK"}}async function P(t,i={}){return fetch(t,i).then(a=>a.ok?a.json().then(s=>({data:s,status:a.status,statusText:a.statusText})):Promise.reject(a)).catch(a=>(console.error("Error:",a),a.message?{data:{success:!1,message:a.message},status:500,statusText:a.message}:typeof a=="object"?{data:{success:!1,message:a.statusText},status:a.status,statusText:a.statusText}:a.json().then(s=>({data:{success:a.ok,message:s.error.message},status:a.status,statusText:a.statusText}))))}var Ie={},A={};Object.defineProperty(A,"__esModule",{value:!0});A.pick=void 0;function Ja(t,i){var a={};return i.forEach(function(s){a[s]=t[s]}),a}A.pick=Ja;var N={};Object.defineProperty(N,"__esModule",{value:!0});N.isFunction=void 0;function Ka(t){return typeof t=="function"}N.isFunction=Ka;var z={};Object.defineProperty(z,"__esModule",{value:!0});z.isString=void 0;function Za(t){return typeof t=="string"}z.isString=Za;var L={};Object.defineProperty(L,"__esModule",{value:!0});L.isEqual=void 0;var Xa=Te.exports,Qa=(0,Xa.__importDefault)(xt);L.isEqual=Qa.default;Object.defineProperty(Ie,"__esModule",{value:!0});var Y=Te.exports,ge=(0,Y.__importStar)(u.exports),ve=yt,xe=A,K=N,Ya=z,b=L,es=function(t){(0,Y.__extends)(i,t);function i(a){var s=t.call(this,a)||this;return s.echarts=a.echarts,s.ele=null,s.isInitialResize=!0,s}return i.prototype.componentDidMount=function(){this.renderNewEcharts()},i.prototype.componentDidUpdate=function(a){var s=this.props.shouldSetOption;if(!((0,K.isFunction)(s)&&!s(a,this.props))){if(!(0,b.isEqual)(a.theme,this.props.theme)||!(0,b.isEqual)(a.opts,this.props.opts)||!(0,b.isEqual)(a.onEvents,this.props.onEvents)){this.dispose(),this.renderNewEcharts();return}var n=["option","notMerge","lazyUpdate","showLoading","loadingOption"];(0,b.isEqual)((0,xe.pick)(this.props,n),(0,xe.pick)(a,n))||this.updateEChartsOption(),(!(0,b.isEqual)(a.style,this.props.style)||!(0,b.isEqual)(a.className,this.props.className))&&this.resize()}},i.prototype.componentWillUnmount=function(){this.dispose()},i.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)||this.echarts.init(this.ele,this.props.theme,this.props.opts)},i.prototype.dispose=function(){if(this.ele){try{(0,ve.clear)(this.ele)}catch(a){console.warn(a)}this.echarts.dispose(this.ele)}},i.prototype.renderNewEcharts=function(){var a=this,s=this.props,n=s.onEvents,r=s.onChartReady,o=this.updateEChartsOption();this.bindEvents(o,n||{}),(0,K.isFunction)(r)&&r(o),this.ele&&(0,ve.bind)(this.ele,function(){a.resize()})},i.prototype.bindEvents=function(a,s){function n(o,h){(0,Ya.isString)(o)&&(0,K.isFunction)(h)&&a.on(o,function(v){h(v,a)})}for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&n(r,s[r])},i.prototype.updateEChartsOption=function(){var a=this.props,s=a.option,n=a.notMerge,r=n===void 0?!1:n,o=a.lazyUpdate,h=o===void 0?!1:o,v=a.showLoading,O=a.loadingOption,E=O===void 0?null:O,y=this.getEchartsInstance();return y.setOption(s,r,h),v?y.showLoading(E):y.hideLoading(),y},i.prototype.resize=function(){var a=this.getEchartsInstance();if(!this.isInitialResize)try{a.resize()}catch(s){console.warn(s)}this.isInitialResize=!1},i.prototype.render=function(){var a=this,s=this.props,n=s.style,r=s.className,o=r===void 0?"":r,h=(0,Y.__assign)({height:300},n);return ge.default.createElement("div",{ref:function(v){a.ele=v},style:h,className:"echarts-for-react "+o})},i}(ge.PureComponent),ts=Ie.default=es;const as=Object.freeze(Object.defineProperty({__proto__:null,registerLocale:bt,version:_t,dependencies:Ct,PRIORITY:St,init:Rt,connect:Ot,disConnect:Et,disconnect:Mt,dispose:Tt,getInstanceByDom:wt,getInstanceById:kt,registerTheme:Dt,registerPreprocessor:It,registerProcessor:$t,registerPostInit:Pt,registerPostUpdate:At,registerUpdateLifecycle:Nt,registerAction:zt,registerCoordinateSystem:Lt,getCoordinateSystemDimensions:jt,registerLayout:Ft,registerVisual:qt,registerLoading:Bt,setCanvasCreator:Ht,registerMap:Vt,getMap:Wt,registerTransform:Ut,dataTool:Gt,throttle:Jt,use:we,setPlatformAPI:Kt,parseGeoJSON:de,parseGeoJson:de,env:Zt,Model:Xt,Axis:Qt,innerDrawElementOnCanvas:Yt,zrender:ea,matrix:ta,vector:aa,zrUtil:sa,color:ia,helper:na,number:ra,time:oa,graphic:la,format:ca,util:ua,List:da,ComponentModel:ha,ComponentView:pa,SeriesModel:ma,ChartView:fa,extendComponentModel:ga,extendComponentView:va,extendSeriesModel:xa,extendChartView:ya},Symbol.toStringTag,{value:"Module"}));function k(t){return we([ba,_a,Ca,Sa,Ra,Oa,Ea,Ma]),e(D,{children:e(ts,{echarts:as,option:{title:{text:t.title},legend:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},dataZoom:[{type:"slider",show:!0,xAxisIndex:[0],startValue:0,endValue:29},{type:"inside",xAxisIndex:[0],start:0,end:29}],toolbox:{show:!0,feature:{dataZoom:{show:!0},dataView:{readOnly:!0},saveAsImage:{}}},xAxis:t.xAxis,yAxis:t.yAxis,series:t.series}})})}async function ss({params:t}){return await Wa()}async function is({request:t,params:i}){}function ns(){return u.exports.useState(!1),e(f,{children:e(ja,{title:"Status",subtitle:"The status changes in last 30 minutes of the system",body:l(f,{children:[e(k,{title:"Hit and Miss Rate",xAxis:[{type:"category",data:["2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26"]}],yAxis:[{type:"value",axisLabel:{formatter:"{value} %"}}],series:[{name:"Hit Rate",data:[4168,12441,3297,2801,5465,5609,3907,3487,2967,4988,3620,3648,3635,7262,2138,2177,3431,3424,5990,5262,3882,10322,4370,2621,4715,2951,8873,7002,3711,2692,3106,5574,3381,3430,3492,4225,2738,2048,4196,6041,2918,2366,3848,7078,3129,2387,3252,2626,6399],type:"line",smooth:!0},{name:"Miss Rate",data:[168,1241,327,281,565,569,307,387,267,988,320,348,335,722,238,217,331,344,590,262,382,122,430,221,415,251,873,702,371,292,316,554,381,340,392,425,238,48,416,61,218,236,3848,78,319,287,3252,2626,699],type:"line",smooth:!0}]}),e(k,{title:"Number of Items in Cache",xAxis:[{type:"category",data:["2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26"]}],yAxis:[{type:"value"}],series:[{data:[4168,12441,3297,2801,5465,5609,3907,3487,2967,4988,3620,3648,3635,7262,2138,2177,3431,3424,5990,5262,3882,10322,4370,2621,4715,2951,8873,7002,3711,2692,3106,5574,3381,3430,3492,4225,2738,2048,4196,6041,2918,2366,3848,7078,3129,2387,3252,2626,6399],type:"line"}]}),e(k,{title:"Total Size of Items",xAxis:[{type:"category",data:["2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26"]}],yAxis:[{type:"value",axisLabel:{formatter:"{value} MB"}}],series:[{data:[4168,12441,3297,2801,5465,5609,3907,3487,2967,4988,3620,3648,3635,7262,2138,2177,3431,3424,5990,5262,3882,10322,4370,2621,4715,2951,8873,7002,3711,2692,3106,5574,3381,3430,3492,4225,2738,2048,4196,6041,2918,2366,3848,7078,3129,2387,3252,2626,6399],type:"line"}]}),e(k,{title:"Number of Requests Served",xAxis:[{type:"category",data:["2021-10-09","2021-10-10","2021-10-11","2021-10-12","2021-10-13","2021-10-14","2021-10-15","2021-10-16","2021-10-17","2021-10-18","2021-10-19","2021-10-20","2021-10-21","2021-10-22","2021-10-23","2021-10-24","2021-10-25","2021-10-26","2021-10-27","2021-10-28","2021-10-29","2021-10-30","2021-10-31","2021-11-01","2021-11-02","2021-11-03","2021-11-04","2021-11-05","2021-11-06","2021-11-07","2021-11-08","2021-11-09","2021-11-10","2021-11-11","2021-11-12","2021-11-13","2021-11-14","2021-11-15","2021-11-16","2021-11-17","2021-11-18","2021-11-19","2021-11-20","2021-11-21","2021-11-22","2021-11-23","2021-11-24","2021-11-25","2021-11-26"]}],yAxis:[{type:"value"}],series:[{data:[4168,12441,3297,2801,5465,5609,3907,3487,2967,4988,3620,3648,3635,7262,2138,2177,3431,3424,5990,5262,3882,10322,4370,2621,4715,2951,8873,7002,3711,2692,3106,5574,3381,3430,3492,4225,2738,2048,4196,6041,2918,2366,3848,7078,3129,2387,3252,2626,6399],type:"line"}]})]})})})}const ye={name:"Status",path:"status"};var ie={},rs=R.exports;Object.defineProperty(ie,"__esModule",{value:!0});var $e=ie.default=void 0,os=rs(I()),ls=$,cs=(0,os.default)((0,ls.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");$e=ie.default=cs;var ne={},us=R.exports;Object.defineProperty(ne,"__esModule",{value:!0});var Pe=ne.default=void 0,ds=us(I()),hs=$,ps=(0,ds.default)((0,hs.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");Pe=ne.default=ps;function Z(t){return e(ft,{open:t.open,onBlur:()=>t.handleClose(),disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:t.title,children:t.body})}async function ms({params:t}){}async function fs({request:t,params:i}){const a=await t.formData(),s=Object.fromEntries(a);console.log(s);let n;switch(s.clear){case"true":{n=await Ua(s.api_method==="pool"?"data":"cache");break}default:switch(s.api_method){case"node":{n=await Ga({capacity:s.capacity,policy:s.policy});break}case"pool":{n=await Va(s.mode,{change:s.change,max_miss_rate_threshold:s.max_miss_rate_threshold,min_miss_rate_threshold:s.min_miss_rate_threshold,expand_ratio:s.expand_ratio,shrink_ratio:s.shrink_ratio});break}}}return{status:n.status,statusText:n.statusText}}function gs(){const t=We(),[i,a]=u.exports.useState(!1),[s,n]=u.exports.useState(100),[r,o]=u.exports.useState(!1),[h,v]=u.exports.useState("lru"),[O,E]=u.exports.useState(!1),[y,xs]=u.exports.useState(1),[j,Ae]=u.exports.useState("automatic"),[F,Ne]=u.exports.useState([0,100]),[q,B]=u.exports.useState("1"),[H,M]=u.exports.useState(!1),[V,W]=u.exports.useState("0"),[U,T]=u.exports.useState(!1),[ze,G]=u.exports.useState(""),[Le,re]=u.exports.useState(!1);return l(f,{children:[e(me,{title:"Configuration for memcache nodes",id:"config-nodes-form",method:"POST",onSubmit:c=>{a(!0),E(!1)},content:l(m,{container:!0,spacing:2,children:[e(p,{hidden:!0,name:"api_method",value:"node"}),e(p,{hidden:!0,name:"clear",value:O}),e(m,{item:!0,xs:12,sm:6,children:e(Z,{open:r,handleClose:()=>o(!1),title:"Range: 0-2048 MB",body:e(p,{id:"config-node-capacity",name:"capacity",label:"Capacity in MB",variant:"outlined",value:s,fullWidth:!0,onChange:c=>{try{const d=parseInt(c.target.value);n(d<0||isNaN(d)?"":d),d>=0&&d<=2048?o(!1):o(!0)}catch{n(0),o(!0)}},error:r})})}),e(m,{item:!0,xs:12,sm:6,children:l(p,{id:"config-node-policy",name:"policy",label:"Replacement Policy",variant:"outlined",value:h,fullWidth:!0,select:!0,onChange:c=>{v(c.target.value)},children:[e(w,{value:"rr",children:"Random Replacement"},"rr"),e(w,{value:"lru",children:"Least Recently Used"},"lru")]})})]}),actions:l(f,{children:[e(g,{size:"small",type:"submit",disabled:r,onClick:c=>{(s<0||s>2048||s==="")&&(o(!0),c.preventDefault())},children:"Submit"}),e(g,{size:"small",color:"error",type:"submit",onClick:c=>{E(!0)},sx:{marginLeft:"auto"},children:"Delete Cache"})]})}),e(me,{title:"Configuration for the memcache pool",subtitle:`Current Pool Size: ${y}`,id:"config-pool-form",method:"POST",onSubmit:c=>{a(!0),re(!1),G("")},content:l(f,{children:[e(p,{hidden:!0,name:"api_method",value:"pool"}),e(p,{hidden:!0,name:"clear",value:Le}),e(p,{hidden:!0,name:"change",value:ze}),l(m,{container:!0,spacing:2,children:[e(m,{item:!0,xs:12,children:l(p,{id:"config-pool-mode",name:"mode",label:"Resizing Mode",variant:"outlined",value:j,fullWidth:!0,select:!0,onChange:c=>{Ae(c.target.value)},children:[e(w,{value:"automatic",children:"Automatic"},"automatic"),e(w,{value:"manual",children:"Manual"},"manual")]})}),j==="automatic"?l(f,{children:[e(m,{item:!0,xs:12,sm:6,children:e(Z,{open:H,handleClose:()=>M(!1),title:"Range: 1.0-\u221E",body:e(p,{id:"config-pool-expand-ratio",name:"expand_ratio",label:"Expand Ration",variant:"outlined",value:q,fullWidth:!0,onChange:c=>{const d=parseFloat(c.target.value).toFixed(2);isNaN(d)||d<1?(M(!0),B("")):(B(c.target.value),M(!1))},error:H})})}),e(m,{item:!0,xs:12,sm:6,children:e(Z,{open:U,handleClose:()=>T(!1),title:"Rnage: 0.0-1.0",body:e(p,{id:"config-pool-shrink-ratio",name:"shrink_ratio",label:"Shrink Ration",variant:"outlined",value:V,fullWidth:!0,onChange:c=>{const d=parseFloat(c.target.value);isNaN(d)||d>1||d<0?(T(!0),W("")):(W(c.target.value),T(!1))},error:U})})}),l(m,{item:!0,xs:12,sx:{margin:"0 1rem"},children:[e(S,{gutterBottom:!0,variant:"caption",children:"Miss Rate Threshold (%)"}),e(p,{hidden:!0,name:"min_miss_rate_threshold",value:(parseFloat(F[0])*.01).toFixed(2)}),e(p,{hidden:!0,name:"max_miss_rate_threshold",value:(parseFloat(F[1])*.01).toFixed(2)}),e(gt,{getAriaLabel:()=>"Miss Rate Threshold",value:F,onChange:(c,d,_)=>Ne(d),valueLabelDisplay:"auto",getAriaValueText:c=>`${c}%`,disableSwap:!0})]})]}):l(f,{children:[e(m,{item:!0,xs:12,sm:6,children:e(g,{variant:"outlined",startIcon:e($e,{}),fullWidth:!0,type:"submit",onClick:c=>{G("increase")},children:"Add One Node"})}),e(m,{item:!0,xs:12,sm:6,children:e(g,{variant:"outlined",endIcon:e(Pe,{}),fullWidth:!0,type:"submit",onClick:c=>{G("decrease")},children:"Remove One Node"})})]})]})]}),actions:l(f,{children:[e(g,{size:"small",type:"submit",disabled:j!=="automatic"||H||U,onClick:c=>{const d=parseFloat(q).toFixed(2),_=parseFloat(V).toFixed(2);if(isNaN(d)||d<1||q===""){M(!0),c.preventDefault();return}if(isNaN(_)||_>1||_<0||V===""){T(!0),c.preventDefault();return}B(d),W(_)},children:"Submit"}),e(g,{size:"small",color:"error",type:"submit",onClick:c=>{re(!0)},sx:{marginLeft:"auto"},children:"Delete All Data"})]})}),e(Ha,{failed:{title:"Failed to commit changes",text:t==null?void 0:t.statusText},submitting:{text:"Commiting changes...",open:i,setOpen:a},submittedText:"Changes committed successfully",submissionStatus:t})]})}const be={name:"Config",path:"config"};const vs=Ue(Ge(e(C,{path:"/",element:e(Pa,{title:"Manager UI",destinations:[Ba,be,ye]}),errorElement:e(fe,{}),children:l(C,{errorElement:e(fe,{}),children:[e(C,{index:!0,element:e(qa,{})}),e(C,{path:be.path,element:e(gs,{}),loader:ms,action:fs}),e(C,{path:ye.path,element:e(ns,{}),loader:ss,action:is})]})})));X.createRoot(document.getElementById("root")).render(e(Je.StrictMode,{children:e(vt,{injectFirst:!0,children:e(Ke,{router:vs})})}));
